@*Veena Harshitha Gandhe*@
@model MoviesProject.Models.Director

@{
    ViewData["Title"] = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<div class="container w-25 mt-4">
    <h2 class="create-text m-4">Director Details</h2>
    <dl class="row">
        <dt class = "col-sm-6">
            @Html.DisplayNameFor(model => model.FirstName)
        </dt>
        <dd class = "col-sm-6 text-end">
            @Html.DisplayFor(model => model.FirstName)
        </dd>
        <dt class="col-sm-6">
            @Html.DisplayNameFor(model => model.LastName)
        </dt>
        <dd class="col-sm-6 text-end">
            @Html.DisplayFor(model => model.LastName)
        </dd>
        <dt class="col-sm-6">
            @Html.DisplayNameFor(model => model.UniversityAttended)
        </dt>
        <dd class="col-sm-6 text-end">
            @Html.DisplayFor(model => model.UniversityAttended)
        </dd>
        <dt class="col-sm-6">
            @Html.DisplayNameFor(model => model.DegreeType)
        </dt>
        <dd class="col-sm-6 text-end">
            @Html.DisplayFor(model => model.DegreeType)
        </dd>
        <dt class="col-sm-6">
            @Html.DisplayNameFor(model => model.DateOfBirth)
        </dt>
        <dd class="col-sm-6 text-end">
            @Html.DisplayFor(model => model.DateOfBirth)
        </dd>
        <dt class="col-sm-6">
            @Html.DisplayNameFor(model => model.ContactNumber)
        </dt>
        <dd class="col-sm-6 text-end">
            @Html.DisplayFor(model => model.ContactNumber)
        </dd>
        <dt class="col-sm-6">
            @Html.DisplayNameFor(model => model.EmailID)
        </dt>
        <dd class="col-sm-6 text-end">
            @Html.DisplayFor(model => model.EmailID)
        </dd>
        <dt class="col-sm-6">
            @Html.DisplayNameFor(model => model.StreetAddress)
        </dt>
        <dd class="col-sm-6 text-end">
            @Html.DisplayFor(model => model.StreetAddress)
        </dd>
        <dt class="col-sm-6">
            @Html.DisplayNameFor(model => model.City)
        </dt>
        <dd class="col-sm-6 text-end">
            @Html.DisplayFor(model => model.City)
        </dd>
        <dt class="col-sm-6">
            @Html.DisplayNameFor(model => model.State)
        </dt>
        <dd class="col-sm-6 text-end">
            @Html.DisplayFor(model => model.State)
        </dd>
        <dt class = "col-sm-6">
            @Html.DisplayNameFor(model => model.ZipCode)
        </dt>
        <dd class="col-sm-6 text-end">
            @Html.DisplayFor(model => model.ZipCode)
        </dd>
    </dl>
    <div class="row">
        <div class="col-sm-6">
            <a asp-action="Index" class="btn">Back to Directors</a>
        </div>
        <div class="col-sm-6 text-end">
            <a asp-action="Edit" class="btn" asp-route-id="@Model?.ID">Edit</a>
        </div>
    </div>
    <div class="row mt-2">
        <div class="col-sm-6">
            <button class="btn btn-default"
                    onclick="GetDirectorMovies(@Model.ID)">
                Show Movies
            </button>
        </div>
        <div class="col-sm-6">
        </div>
    </div>
</div>
 <div class="container"
     id="pvMovies">
 </div>
<script>
    function GetDirectorMovies(directorID) {
     $.ajax({
            type: "POST",
            url: "@Url.Action("GetDirectorMovies", "Directors")",
            data: { id: directorID },
            success: function (pvhtmlresult) {
                $("#pvMovies").html(pvhtmlresult);
            },
            error: function () {
                alert("No movies found for this director " + directorID)
                }
        }); 
}
</script>